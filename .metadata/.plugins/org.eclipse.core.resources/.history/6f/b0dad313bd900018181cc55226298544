package com.techlabs.Bank_App;

import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.util.ArrayList;

public class Bank {

	ArrayList<Employee> listOfManager = new ArrayList<Employee>();

	public Bank() {

	}

	public void addEmployee(Employee employee) {
		listOfManager.add(employee);
	}

	public void removeEmployee(Employee employee) {
		listOfManager.remove(employee);
	}

	public ArrayList<Employee> read() {

		ArrayList<Employee> listOfManager = new ArrayList<Employee>();

		try {
			/*
			 * BufferedReader fr = new BufferedReader(new
			 * FileReader("EmployeeData.csv")); String line; while ((line =
			 * fr.readLine()) != null) { listOfManager.add(line); }
			 * 
			 * fr.close();
			 */

			FileInputStream file = new FileInputStream("EmployeeData.csv");
			ObjectInputStream out = new ObjectInputStream(file);
			listOfManager.add((Employee) out.readObject());
			out.close();
			file.close();
		} catch (Exception e) {
			System.out.println(e);
		}
		return listOfManager;
	}

	public void write(ArrayList<Employee> list) {

		ArrayList<String> listOfManager = new ArrayList<String>();

		try {
			for (Employee object : list) {

				FileOutputStream fr = new FileOutputStream("EmployeeData.csv");
				ObjectOutputStream out = new ObjectOutputStream(fr);
				out.writeObject(object);
				out.close();
				fr.close();
			}
		} catch (

		Exception e) {
			System.out.println(e);
		}
	}

}
